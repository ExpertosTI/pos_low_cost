<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-name="pos_low_sales_price.PasswordDialog" owl="1">
        <Dialog size="'md'" title="props.title or 'Autorización Requerida'" contentClass="'password-dialog-content'">
            <div class="password-dialog-body">
                <div class="alert alert-warning mb-3">
                    <i class="fa fa-exclamation-triangle me-2"></i>
                    <span t-esc="props.body or 'Se requiere autorización para continuar con la venta'"/>
                </div>
                <div class="mb-3">
                    <label for="password-input" class="form-label fw-bold">
                        <i class="fa fa-lock me-2"></i>Contraseña de Autorización:
                    </label>
                    <input 
                        type="password" 
                        id="password-input"
                        class="form-control password-input"
                        t-att-class="state.error ? 'is-invalid' : ''"
                        placeholder="Ingrese la contraseña..."
                        t-model="state.password"
                        t-on-input="onPasswordInput"
                        t-on-keydown="onKeydown"
                        autofocus="true"
                    />
                    <div t-if="state.error" class="invalid-feedback">
                        <i class="fa fa-exclamation-circle me-1"></i>
                        <span t-esc="state.errorMessage"/>
                    </div>
                </div>
                <div class="password-dialog-hint">
                    <small class="text-muted">
                        <i class="fa fa-info-circle me-1"></i>
                        Contacte al administrador si no tiene la contraseña de autorización
                    </small>
                </div>
            </div>
            <t t-set-slot="footer">
                <button type="button" class="btn btn-secondary me-2" t-on-click="onCancel">
                    <i class="fa fa-times me-1"></i>Cancelar
                </button>
                <button type="button" class="btn btn-success" t-on-click="onConfirm">
                    <i class="fa fa-check me-1"></i>Autorizar Venta
                </button>
            </t>
        </Dialog>
    </t>
</templates>